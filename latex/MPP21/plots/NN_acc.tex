%!TEX root = ../paper.tex


\begin{tikzpicture}[scale=.8]
\begin{axis}[
	width=.5\textwidth,
	xlabel=Epoch, 
	ylabel=\ifthenelse{\equal{\set}{test}}{}{Accuracy}, 
        legend style={at={(1.02,.5)},anchor=west},
        xtick={0,10,20,30,40,50},
        ymin={.94},
        ymax={1},
        reverse legend,
]
\addplot[color=black] table[x=epoch, y=dgemm_\set]{\datafile}; \addlegendentry{Classical}
\addplot table[x=epoch, y=bini322_\set]{\datafile}; \addlegendentry{$\dims{3,2,2}$}
\addplot table[x=epoch, y=schonhage333_\set]{\datafile}; \addlegendentry{$\dims{3,3,3;21}$}
\addplot table[x=epoch, y=smirnov224_\set]{\datafile}; \addlegendentry{$\dims{4,2,2}$}
\addplot table[x=epoch, y=smirnov323_\set]{\datafile}; \addlegendentry{$\dims{3,3,2}$}
\addplot table[x=epoch, y=smirnov225_\set]{\datafile}; \addlegendentry{$\dims{5,2,2}$}
\addplot table[x=epoch, y=smirnov442_\set]{\datafile}; \addlegendentry{$\dims{4,4,2}$}
\addplot table[x=epoch, y=smirnov334_\set]{\datafile}; \addlegendentry{$\dims{4,3,3}$}
\addplot table[x=epoch, y=smirnov552_\set]{\datafile}; \addlegendentry{$\dims{5,5,2}$}
\addplot table[x=epoch, y=smirnov444_\set]{\datafile}; \addlegendentry{$\dims{4,4,4}$}
\addplot table[x=epoch, y=smirnov555_\set]{\datafile}; \addlegendentry{$\dims{5,5,5}$}
\addplot[color=red,mark=triangle] table[x=epoch, y=smirnov272_\set]{\datafile}; \addlegendentry{$\dims{7,2,2}$}
\addplot[color=brown,mark=diamond] table[x=epoch, y=smirnov333_\set]{\datafile}; \addlegendentry{$\dims{3,3,3;20}$}
\ifthenelse{\equal{\set}{test}}{}{\legend{}}
\end{axis}
\end{tikzpicture}
